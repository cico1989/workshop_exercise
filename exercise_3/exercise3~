#! /usr/bin/env python
import os
import numpy as np
import sys

#get the latitude and longitude from the file name
#extract the second column (month) and fourth column (rainfall) from the fluxes files
current_path = os.getcwd()
addfolder = current_path,'test'
folder_path = '/'.join(addfolder) 
for file in os.listdir(folder_path):
    print file
    lat = file.split("_")[1]
    lon = file.split("_")[2]
    addfile = folder_path, file
    filepath = '/'.join(addfile)
    data = np.loadtxt(filepath,usecols = (0,1,3))
    monthly_sum = np.zeros([12]).reshape(12,1)
    monthly_mean = np.zeros([12]).reshape(12,1)
    print monthly_sum
#data.shape[0] is the number of rows, data.shape[1] is the number of columns
    year_count = 1
    for i in range(1,data.shape[0]):
        if data[i,0] != data[i-1,0]:
           year_count += year_count
        i += i
    for i in range(0,data.shape[0]):
        monthly_sum[data[i,1]-1] += data[i,2]
        i += i           
    montgly_mean = monthly_sum/year_count
    print monthly_mean
#print file

#for line in open('test'):
#    year = np.array(line.split()[0])
#    print year
#data = np.loadtxt('test')
#print data
#split.(" ")[2],
